<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>FPS with Crosshair & Bullet Counter</title>
<style>
  /* Full screen canvas */
  body, html {
    margin: 0; padding: 0; overflow: hidden; height: 100%;
    background: #1a1a1a;
    font-family: Arial, sans-serif;
  }
  canvas {
    display: block;
    background: #2b2b2b;
    margin: 0 auto;
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
  }

  /* Crosshair style */
  #crosshair {
    position: fixed;
    top: 50%; left: 50%;
    width: 30px; height: 30px;
    margin-left: -15px; margin-top: -15px;
    pointer-events: none;
    z-index: 10;
  }
  #crosshair div {
    position: absolute;
    background: #0aff0a;
  }
  #crosshair .line {
    width: 2px;
    height: 10px;
    top: 10px;
    left: 14px;
  }
  #crosshair .line.left {
    width: 10px;
    height: 2px;
    top: 14px;
    left: 0;
  }
  #crosshair .line.right {
    width: 10px;
    height: 2px;
    top: 14px;
    right: 0;
  }
  #crosshair .line.top {
    width: 2px;
    height: 10px;
    top: 0;
    left: 14px;
  }
  #crosshair .line.bottom {
    width: 2px;
    height: 10px;
    bottom: 0;
    left: 14px;
  }

  /* Bullet counter */
  #bulletCounter {
    position: fixed;
    bottom: 20px;
    left: 20px;
    color: #0aff0a;
    font-size: 24px;
    user-select: none;
    z-index: 10;
    font-weight: bold;
    text-shadow: 0 0 5px #0aff0a;
  }
</style>
</head>
<body>

<!-- Crosshair HTML -->
<div id="crosshair">
  <div class="line top"></div>
  <div class="line bottom"></div>
  <div class="line left"></div>
  <div class="line right"></div>
</div>

<!-- Bullet Counter -->
<div id="bulletCounter">Bullets: 30</div>

<!-- Canvas -->
<canvas id="gameCanvas"></canvas>

<script>
  // Setup canvas and context
  const canvas = document.getElementById('gameCanvas');
  const ctx = canvas.getContext('2d');

  // Resize canvas to full window
  function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }
  window.addEventListener('resize', resize);
  resize();

  // Map data - simulate container yard with rectangles
  const containers = [
    {x: 100, y: 100, w: 160, h: 80, color: '#444444'},
    {x: 280, y: 120, w: 200, h: 100, color: '#555555'},
    {x: 520, y: 100, w: 120, h: 140, color: '#666666'},
    {x: 180, y: 250, w: 220, h: 80, color: '#4a4a4a'},
    {x: 460, y: 280, w: 180, h: 110, color: '#5a5a5a'},
    {x: 680, y: 150, w: 150, h: 150, color: '#444444'},
    {x: 850, y: 300, w: 100, h: 60, color: '#555555'},
  ];

  // Player data
  const player = {
    x: canvas.width / 2,
    y: canvas.height / 2,
    width: 40,
    height: 20,
    speed: 5,
    bullets: 30,
    gun: {
      width: 60,
      height: 20,
      barrelLength: 40,
      color: '#0aff0a'
    }
  };

  // Keyboard state
  const keys = {};
  window.addEventListener('keydown', e => keys[e.key.toLowerCase()] = true);
  window.addEventListener('keyup', e => keys[e.key.toLowerCase()] = false);

  // Bullet counter UI
  const bulletCounter = document.getElementById('bulletCounter');

  // Game loop
  function gameLoop() {
    // Clear screen
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Draw map containers
    containers.forEach(container => {
      ctx.fillStyle = container.color;
      ctx.fillRect(container.x, container.y, container.w, container.h);

      // Container edges
      ctx.strokeStyle = '#222';
      ctx.lineWidth = 3;
      ctx.strokeRect(container.x, container.y, container.w, container.h);
    });

    // Move player with WASD
    if (keys['w'] || keys['arrowup']) player.y -= player.speed;
    if (keys['s'] || keys['arrowdown']) player.y += player.speed;
    if (keys['a'] || keys['arrowleft']) player.x -= player.speed;
    if (keys['d'] || keys['arrowright']) player.x += player.speed;

    // Keep player inside bounds
    player.x = Math.max(0, Math.min(canvas.width - player.width, player.x));
    player.y = Math.max(0, Math.min(canvas.height - player.height, player.y));

    // Draw player as a rectangle with a gun shape
    // Player body
    ctx.fillStyle = '#0aff0a';
    ctx.fillRect(player.x, player.y, player.width, player.height);
    // Gun base
    ctx.fillStyle = '#00cc00';
    ctx.fillRect(player.x + player.width - 10, player.y + 5, player.gun.width, player.gun.height);
    // Gun barrel
    ctx.fillStyle = '#007700';
    ctx.fillRect(player.x + player.width - 10 + player.gun.width, player.y + 8, player.gun.barrelLength, 4);

    requestAnimationFrame(gameLoop);
  }
  gameLoop();

  // Shooting mechanic
  window.addEventListener('mousedown', e => {
    if (player.bullets > 0) {
      player.bullets--;
      bulletCounter.textContent = `Bullets: ${player.bullets}`;
      // Simple muzzle flash effect
      const flashX = player.x + player.width - 10 + player.gun.width + player.gun.barrelLength;
      const flashY = player.y + 10;
      drawMuzzleFlash(flashX, flashY);
    } else {
      // Optional: play empty clip sound or feedback
    }
  });

  function drawMuzzleFlash(x, y) {
    ctx.save();
    ctx.fillStyle = 'yellow';
    ctx.beginPath();
    ctx.arc(x, y, 10, 0, Math.PI * 2);
    ctx.fill();
    ctx.restore();

    // Clear flash after short delay
    setTimeout(() => {
      ctx.clearRect(x - 12, y - 12, 24, 24);
    }, 50);
  }
</script>
</body>
</html>
